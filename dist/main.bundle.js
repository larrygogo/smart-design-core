(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["smartDesgin"] = factory();
	else
		root["smartDesgin"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _parser_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parser/index */ \"./src/parser/index.ts\");\n/* harmony import */ var _render_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render/index */ \"./src/render/index.ts\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    Parser: _parser_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    Render: _render_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9pbmRleC50cz83MWJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFvQztBQUNBO0FBQ3JCO0FBQ2YsWUFBWSxxREFBTTtBQUNsQixZQUFZLHFEQUFNO0FBQ2xCLENBQUMsRUFBQyIsImZpbGUiOiIuL3NyYy9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYXJzZXIgZnJvbSAnLi9wYXJzZXIvaW5kZXgnO1xuaW1wb3J0IFJlbmRlciBmcm9tICcuL3JlbmRlci9pbmRleCc7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgUGFyc2VyOiBQYXJzZXIsXG4gICAgUmVuZGVyOiBSZW5kZXJcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/parser/base/Layer.ts":
/*!**********************************!*\
  !*** ./src/parser/base/Layer.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Layer = /** @class */ (function () {\n    function Layer(node) {\n        this.name = \"\";\n        this.type = \"\";\n        this.style = {};\n        this.init(node);\n    }\n    Layer.prototype.init = function (node) {\n        this.name = node.get(\"name\");\n        this.type = node.get(\"typeTool\") ? 'text' : 'image';\n        this.style = {\n            top: node.get(\"top\"),\n            left: node.get(\"left\"),\n            width: node.get(\"width\"),\n            height: node.get(\"height\"),\n            opacity: this.getOpacity(node),\n            transform: this.getTransform(node)\n        };\n    };\n    Layer.prototype.getOpacity = function (node) {\n        return node.get(\"opacity\") / 255;\n    };\n    Layer.prototype.getTransform = function (node) {\n        var text = node.export().text;\n        if (!text) {\n            return { xx: 1, xy: 0, yx: 0, yy: 1, tx: 0, ty: 0 };\n        }\n        var transform = text.transform;\n        if (!transform) {\n            return { xx: 1, xy: 0, yx: 0, yy: 1, tx: 0, ty: 0 };\n        }\n        return transform;\n    };\n    return Layer;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9wYXJzZXIvYmFzZS9MYXllci50cz8yODYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLG9FQUFLLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFyc2VyL2Jhc2UvTGF5ZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGF5ZXIobm9kZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlwiO1xuICAgICAgICB0aGlzLnN0eWxlID0ge307XG4gICAgICAgIHRoaXMuaW5pdChub2RlKTtcbiAgICB9XG4gICAgTGF5ZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBub2RlLmdldChcIm5hbWVcIik7XG4gICAgICAgIHRoaXMudHlwZSA9IG5vZGUuZ2V0KFwidHlwZVRvb2xcIikgPyAndGV4dCcgOiAnaW1hZ2UnO1xuICAgICAgICB0aGlzLnN0eWxlID0ge1xuICAgICAgICAgICAgdG9wOiBub2RlLmdldChcInRvcFwiKSxcbiAgICAgICAgICAgIGxlZnQ6IG5vZGUuZ2V0KFwibGVmdFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBub2RlLmdldChcIndpZHRoXCIpLFxuICAgICAgICAgICAgaGVpZ2h0OiBub2RlLmdldChcImhlaWdodFwiKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eShub2RlKSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5nZXRUcmFuc2Zvcm0obm9kZSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRPcGFjaXR5ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0KFwib3BhY2l0eVwiKSAvIDI1NTtcbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgdGV4dCA9IG5vZGUuZXhwb3J0KCkudGV4dDtcbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4geyB4eDogMSwgeHk6IDAsIHl4OiAwLCB5eTogMSwgdHg6IDAsIHR5OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRleHQudHJhbnNmb3JtO1xuICAgICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgeHg6IDEsIHh5OiAwLCB5eDogMCwgeXk6IDEsIHR4OiAwLCB0eTogMCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcbiAgICByZXR1cm4gTGF5ZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/parser/base/Layer.ts\n");

/***/ }),

/***/ "./src/parser/base/Template.ts":
/*!*************************************!*\
  !*** ./src/parser/base/Template.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Template = /** @class */ (function () {\n    function Template(width, height) {\n        this.width = 0;\n        this.height = 0;\n        this.layers = [];\n        this.width = width;\n        this.height = height;\n    }\n    Template.prototype.addLayer = function (layer) {\n        this.layers.unshift(layer);\n    };\n    return Template;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Template);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9wYXJzZXIvYmFzZS9UZW1wbGF0ZS50cz8xNTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFyc2VyL2Jhc2UvVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVGVtcGxhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGVtcGxhdGUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmxheWVycyA9IFtdO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgICBUZW1wbGF0ZS5wcm90b3R5cGUuYWRkTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdGhpcy5sYXllcnMudW5zaGlmdChsYXllcik7XG4gICAgfTtcbiAgICByZXR1cm4gVGVtcGxhdGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVGVtcGxhdGU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/parser/base/Template.ts\n");

/***/ }),

/***/ "./src/parser/index.ts":
/*!*****************************!*\
  !*** ./src/parser/index.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var psd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! psd */ \"psd\");\n/* harmony import */ var psd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(psd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _base_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base/Template */ \"./src/parser/base/Template.ts\");\n/* harmony import */ var _layers_TextLayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layers/TextLayer */ \"./src/parser/layers/TextLayer.ts\");\n/* harmony import */ var _layers_ImageLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layers/ImageLayer */ \"./src/parser/layers/ImageLayer.ts\");\n\n\n\n\n\nvar Parser = /** @class */ (function () {\n    function Parser(url, options) {\n        this.cover = null;\n        this.nodes = [];\n        this.layers = [];\n        var psd = psd__WEBPACK_IMPORTED_MODULE_1___default.a.fromFile(url);\n        psd.parse();\n        this.cover = psd.image.toPng();\n        this.nodes = psd.tree().descendants();\n        var _a = psd.tree().coords, top = _a.top, bottom = _a.bottom, left = _a.left, right = _a.right;\n        this.options = options;\n        this.template = new _base_Template__WEBPACK_IMPORTED_MODULE_2__[\"default\"](right - left, bottom - top);\n        this.parseNode();\n    }\n    Parser.prototype.getTemplate = function () {\n        return this.template;\n    };\n    Parser.prototype.saveAsPng = function (path) {\n        var image = this.cover;\n        return new Promise(function (resolve, reject) {\n            var chunks = [];\n            image.pack();\n            image.on('data', function (chunk) {\n                chunks.push(chunk);\n            });\n            image.on('end', function () {\n                var buffer = Buffer.concat(chunks);\n                fs__WEBPACK_IMPORTED_MODULE_0___default.a.writeFile(path, buffer, function (err) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve();\n                    }\n                });\n            });\n            image.on('error', function (err) {\n                reject(err);\n            });\n        });\n    };\n    Parser.prototype.parseNode = function () {\n        var _this = this;\n        this.nodes.forEach(function (node) {\n            var type = node.get(\"typeTool\");\n            if (type) {\n                var layer = new _layers_TextLayer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](node);\n                _this.template.addLayer(layer);\n            }\n            else {\n                var layer = new _layers_ImageLayer__WEBPACK_IMPORTED_MODULE_4__[\"default\"](node);\n                _this.template.addLayer(layer);\n            }\n        });\n    };\n    return Parser;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Parser);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9wYXJzZXIvaW5kZXgudHM/YWJhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW9CO0FBQ1E7QUFDVztBQUNJO0FBQ0U7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQ0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0JBQWdCLHlDQUFFO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHlEQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwREFBVTtBQUMxQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ2MscUVBQU0sRUFBQyIsImZpbGUiOiIuL3NyYy9wYXJzZXIvaW5kZXgudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBzZFBhcnNlciBmcm9tICdwc2QnO1xuaW1wb3J0IFRlbXBsYXRlIGZyb20gJy4vYmFzZS9UZW1wbGF0ZSc7XG5pbXBvcnQgVGV4dExheWVyIGZyb20gJy4vbGF5ZXJzL1RleHRMYXllcic7XG5pbXBvcnQgSW1hZ2VMYXllciBmcm9tICcuL2xheWVycy9JbWFnZUxheWVyJztcbnZhciBQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKHVybCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmxheWVycyA9IFtdO1xuICAgICAgICB2YXIgcHNkID0gcHNkUGFyc2VyLmZyb21GaWxlKHVybCk7XG4gICAgICAgIHBzZC5wYXJzZSgpO1xuICAgICAgICB0aGlzLmNvdmVyID0gcHNkLmltYWdlLnRvUG5nKCk7XG4gICAgICAgIHRoaXMubm9kZXMgPSBwc2QudHJlZSgpLmRlc2NlbmRhbnRzKCk7XG4gICAgICAgIHZhciBfYSA9IHBzZC50cmVlKCkuY29vcmRzLCB0b3AgPSBfYS50b3AsIGJvdHRvbSA9IF9hLmJvdHRvbSwgbGVmdCA9IF9hLmxlZnQsIHJpZ2h0ID0gX2EucmlnaHQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmlnaHQgLSBsZWZ0LCBib3R0b20gLSB0b3ApO1xuICAgICAgICB0aGlzLnBhcnNlTm9kZSgpO1xuICAgIH1cbiAgICBQYXJzZXIucHJvdG90eXBlLmdldFRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuc2F2ZUFzUG5nID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5jb3ZlcjtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBjaHVua3MgPSBbXTtcbiAgICAgICAgICAgIGltYWdlLnBhY2soKTtcbiAgICAgICAgICAgIGltYWdlLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbWFnZS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBCdWZmZXIuY29uY2F0KGNodW5rcyk7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlKHBhdGgsIGJ1ZmZlciwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbWFnZS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG5vZGUuZ2V0KFwidHlwZVRvb2xcIik7XG4gICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IG5ldyBUZXh0TGF5ZXIobm9kZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMudGVtcGxhdGUuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IEltYWdlTGF5ZXIobm9kZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMudGVtcGxhdGUuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUGFyc2VyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/parser/index.ts\n");

/***/ }),

/***/ "./src/parser/layers/ImageLayer.ts":
/*!*****************************************!*\
  !*** ./src/parser/layers/ImageLayer.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _base_Layer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base/Layer */ \"./src/parser/base/Layer.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\nvar ImageLayer = /** @class */ (function (_super) {\n    __extends(ImageLayer, _super);\n    function ImageLayer(node, imageMode) {\n        if (imageMode === void 0) { imageMode = \"array\"; }\n        var _this = _super.call(this, node) || this;\n        _this.image = \"\";\n        _this.imageData = node.layer.image.toPng();\n        return _this;\n    }\n    ImageLayer.prototype.streamToBuffer = function () {\n        var image = this.imageData;\n        return new Promise(function (resolve, reject) {\n            var chunks = [];\n            image.pack(); // [1]\n            image.on('data', function (chunk) {\n                chunks.push(chunk); // [2]\n            });\n            image.on('end', function () {\n                resolve(Buffer.concat(chunks)); // [3]\n            });\n            image.on('error', function (err) {\n                reject(err);\n            });\n        });\n    };\n    ImageLayer.prototype.toBase64 = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.streamToBuffer().then(function (buffer) {\n                resolve(\"data:image/png;base64,\" + buffer.toString('base64'));\n            }).catch(function (err) {\n                reject(err);\n            });\n        });\n    };\n    ImageLayer.prototype.setImage = function (image) {\n        this.image = image;\n    };\n    ImageLayer.prototype.saveAsPng = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        _this.streamToBuffer().then(function (buffer) {\n                            fs__WEBPACK_IMPORTED_MODULE_0___default.a.writeFile(path, buffer, function (err) {\n                                if (err) {\n                                    reject(err);\n                                }\n                                else {\n                                    resolve(path);\n                                }\n                            });\n                        }).catch(function (err) {\n                            reject(err);\n                        });\n                    })];\n            });\n        });\n    };\n    return ImageLayer;\n}(_base_Layer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ImageLayer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9wYXJzZXIvbGF5ZXJzL0ltYWdlTGF5ZXIudHM/M2EwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDb0I7QUFDYztBQUNsQztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscUJBQXFCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLG1DQUFtQztBQUNuQyxhQUFhO0FBQ2I7QUFDQSwrQ0FBK0M7QUFDL0MsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5Q0FBRTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDLENBQUMsbURBQUs7QUFDUSx5RUFBVSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3BhcnNlci9sYXllcnMvSW1hZ2VMYXllci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4uL2Jhc2UvTGF5ZXJcIjtcbnZhciBJbWFnZUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUxheWVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEltYWdlTGF5ZXIobm9kZSwgaW1hZ2VNb2RlKSB7XG4gICAgICAgIGlmIChpbWFnZU1vZGUgPT09IHZvaWQgMCkgeyBpbWFnZU1vZGUgPSBcImFycmF5XCI7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbm9kZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW1hZ2UgPSBcIlwiO1xuICAgICAgICBfdGhpcy5pbWFnZURhdGEgPSBub2RlLmxheWVyLmltYWdlLnRvUG5nKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW1hZ2VMYXllci5wcm90b3R5cGUuc3RyZWFtVG9CdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2VEYXRhO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgaW1hZ2UucGFjaygpOyAvLyBbMV1cbiAgICAgICAgICAgIGltYWdlLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspOyAvLyBbMl1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW1hZ2Uub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEJ1ZmZlci5jb25jYXQoY2h1bmtzKSk7IC8vIFszXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbWFnZS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBJbWFnZUxheWVyLnByb3RvdHlwZS50b0Jhc2U2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLnN0cmVhbVRvQnVmZmVyKCkudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIiArIGJ1ZmZlci50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSW1hZ2VMYXllci5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH07XG4gICAgSW1hZ2VMYXllci5wcm90b3R5cGUuc2F2ZUFzUG5nID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RyZWFtVG9CdWZmZXIoKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGUocGF0aCwgYnVmZmVyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZUxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/parser/layers/ImageLayer.ts\n");

/***/ }),

/***/ "./src/parser/layers/TextLayer.ts":
/*!****************************************!*\
  !*** ./src/parser/layers/TextLayer.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _base_Layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base/Layer */ \"./src/parser/base/Layer.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar TextLayer = /** @class */ (function (_super) {\n    __extends(TextLayer, _super);\n    function TextLayer(node) {\n        var _this = _super.call(this, node) || this;\n        _this.value = \"\";\n        var value = node.export().text.value;\n        _this.value = value;\n        _this.style.color = _this.getColor(node);\n        _this.style.fontSize = _this.getFontSize(node);\n        _this.style.textAlign = _this.getTextAlign(node);\n        _this.style.fontFamily = _this.getFontFamily(node);\n        _this.style.fontWeight = _this.isBold(node);\n        _this.style.lineHeight = _this.getLineHeight(node);\n        _this.style.letterSpacing = _this.getLetterSpacing(node);\n        _this.resetWidth();\n        return _this;\n    }\n    TextLayer.prototype.resetWidth = function () {\n        var length = this.value.length;\n        var fontSize = this.style.fontSize || 16;\n        var letterSpacing = this.style.letterSpacing || 0;\n        this.style.width = (fontSize + letterSpacing) * length;\n    };\n    TextLayer.prototype.isBold = function (node) {\n        var fauxBold = node.get(\"typeTool\").styles().FauxBold;\n        var name = node.export().text.font.name;\n        if (/-Bold|-W6/g.test(name)) {\n            return fauxBold ? fauxBold[0] ? 900 : 700 : 700;\n        }\n        return fauxBold ? fauxBold[0] ? 600 : 400 : 400;\n    };\n    TextLayer.prototype.getColor = function (node) {\n        var toHex = function (n) {\n            return parseInt(n, 10).toString(16).padStart(2, '0');\n        };\n        var colors = node.export().text.font.colors;\n        if (!colors) {\n            return \"#000000\";\n        }\n        else if (typeof colors === 'string') {\n            return colors;\n        }\n        var _a = colors[0], _b = _a[0], r = _b === void 0 ? 0 : _b, _c = _a[1], g = _c === void 0 ? 0 : _c, _d = _a[2], b = _d === void 0 ? 0 : _d;\n        return \"#\" + toHex(r) + toHex(g) + toHex(b);\n    };\n    TextLayer.prototype.getLetterSpacing = function (node) {\n        var tracking = node.get(\"typeTool\").styles().Tracking;\n        var fontSize = this.getFontSize(node);\n        if (!tracking) {\n            return 0;\n        }\n        var letterSpacing = tracking[0] * fontSize / 1000;\n        return letterSpacing;\n    };\n    TextLayer.prototype.getFontFamily = function (node) {\n        var text = node.export().text;\n        var typeTool = node.get('typeTool');\n        var fontFamily = typeTool.engineData.ResourceDict.FontSet\n            .filter(function (f) { return !f.Synthetic; })\n            .map(function (f) { return f.Name; });\n        return fontFamily[0] ? fontFamily[0] : text.font.name;\n    };\n    TextLayer.prototype.getFontSize = function (node) {\n        var _a = node.export().text, yy = _a.transform.yy, sizes = _a.font.sizes;\n        var size = 16;\n        if (sizes && sizes[0]) {\n            if (yy !== 1) {\n                size = Math.round((sizes[0] * yy) * 100) * 0.01;\n            }\n            else {\n                size = sizes[0];\n            }\n        }\n        return size;\n    };\n    TextLayer.prototype.getTextAlign = function (node) {\n        var alignment = node.export().text.font.alignment;\n        if (!alignment) {\n            return \"left\";\n        }\n        return alignment[0];\n    };\n    TextLayer.prototype.getLineHeight = function (node) {\n        var fontSize = this.getFontSize(node);\n        var leading = node.get(\"typeTool\").styles().Leading;\n        if (!leading) {\n            return 1;\n        }\n        return 1 + Number((leading[0] / fontSize).toFixed(1));\n    };\n    return TextLayer;\n}(_base_Layer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextLayer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9wYXJzZXIvbGF5ZXJzL1RleHRMYXllci50cz9mMDJhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNpQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUIsRUFBRTtBQUN6RCwrQkFBK0IsZUFBZSxFQUFFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLG1EQUFLO0FBQ1Esd0VBQVMsRUFBQyIsImZpbGUiOiIuL3NyYy9wYXJzZXIvbGF5ZXJzL1RleHRMYXllci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IExheWVyIGZyb20gXCIuLi9iYXNlL0xheWVyXCI7XG52YXIgVGV4dExheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0TGF5ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGV4dExheWVyKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbm9kZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmV4cG9ydCgpLnRleHQudmFsdWU7XG4gICAgICAgIF90aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIF90aGlzLnN0eWxlLmNvbG9yID0gX3RoaXMuZ2V0Q29sb3Iobm9kZSk7XG4gICAgICAgIF90aGlzLnN0eWxlLmZvbnRTaXplID0gX3RoaXMuZ2V0Rm9udFNpemUobm9kZSk7XG4gICAgICAgIF90aGlzLnN0eWxlLnRleHRBbGlnbiA9IF90aGlzLmdldFRleHRBbGlnbihub2RlKTtcbiAgICAgICAgX3RoaXMuc3R5bGUuZm9udEZhbWlseSA9IF90aGlzLmdldEZvbnRGYW1pbHkobm9kZSk7XG4gICAgICAgIF90aGlzLnN0eWxlLmZvbnRXZWlnaHQgPSBfdGhpcy5pc0JvbGQobm9kZSk7XG4gICAgICAgIF90aGlzLnN0eWxlLmxpbmVIZWlnaHQgPSBfdGhpcy5nZXRMaW5lSGVpZ2h0KG5vZGUpO1xuICAgICAgICBfdGhpcy5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gX3RoaXMuZ2V0TGV0dGVyU3BhY2luZyhub2RlKTtcbiAgICAgICAgX3RoaXMucmVzZXRXaWR0aCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRleHRMYXllci5wcm90b3R5cGUucmVzZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgICAgICB2YXIgZm9udFNpemUgPSB0aGlzLnN0eWxlLmZvbnRTaXplIHx8IDE2O1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHRoaXMuc3R5bGUubGV0dGVyU3BhY2luZyB8fCAwO1xuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gKGZvbnRTaXplICsgbGV0dGVyU3BhY2luZykgKiBsZW5ndGg7XG4gICAgfTtcbiAgICBUZXh0TGF5ZXIucHJvdG90eXBlLmlzQm9sZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBmYXV4Qm9sZCA9IG5vZGUuZ2V0KFwidHlwZVRvb2xcIikuc3R5bGVzKCkuRmF1eEJvbGQ7XG4gICAgICAgIHZhciBuYW1lID0gbm9kZS5leHBvcnQoKS50ZXh0LmZvbnQubmFtZTtcbiAgICAgICAgaWYgKC8tQm9sZHwtVzYvZy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmF1eEJvbGQgPyBmYXV4Qm9sZFswXSA/IDkwMCA6IDcwMCA6IDcwMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmF1eEJvbGQgPyBmYXV4Qm9sZFswXSA/IDYwMCA6IDQwMCA6IDQwMDtcbiAgICB9O1xuICAgIFRleHRMYXllci5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgdG9IZXggPSBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG4sIDEwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNvbG9ycyA9IG5vZGUuZXhwb3J0KCkudGV4dC5mb250LmNvbG9ycztcbiAgICAgICAgaWYgKCFjb2xvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBcIiMwMDAwMDBcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29sb3JzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBjb2xvcnNbMF0sIF9iID0gX2FbMF0sIHIgPSBfYiA9PT0gdm9pZCAwID8gMCA6IF9iLCBfYyA9IF9hWzFdLCBnID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYywgX2QgPSBfYVsyXSwgYiA9IF9kID09PSB2b2lkIDAgPyAwIDogX2Q7XG4gICAgICAgIHJldHVybiBcIiNcIiArIHRvSGV4KHIpICsgdG9IZXgoZykgKyB0b0hleChiKTtcbiAgICB9O1xuICAgIFRleHRMYXllci5wcm90b3R5cGUuZ2V0TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciB0cmFja2luZyA9IG5vZGUuZ2V0KFwidHlwZVRvb2xcIikuc3R5bGVzKCkuVHJhY2tpbmc7XG4gICAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuZ2V0Rm9udFNpemUobm9kZSk7XG4gICAgICAgIGlmICghdHJhY2tpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gdHJhY2tpbmdbMF0gKiBmb250U2l6ZSAvIDEwMDA7XG4gICAgICAgIHJldHVybiBsZXR0ZXJTcGFjaW5nO1xuICAgIH07XG4gICAgVGV4dExheWVyLnByb3RvdHlwZS5nZXRGb250RmFtaWx5ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHRleHQgPSBub2RlLmV4cG9ydCgpLnRleHQ7XG4gICAgICAgIHZhciB0eXBlVG9vbCA9IG5vZGUuZ2V0KCd0eXBlVG9vbCcpO1xuICAgICAgICB2YXIgZm9udEZhbWlseSA9IHR5cGVUb29sLmVuZ2luZURhdGEuUmVzb3VyY2VEaWN0LkZvbnRTZXRcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuICFmLlN5bnRoZXRpYzsgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuTmFtZTsgfSk7XG4gICAgICAgIHJldHVybiBmb250RmFtaWx5WzBdID8gZm9udEZhbWlseVswXSA6IHRleHQuZm9udC5uYW1lO1xuICAgIH07XG4gICAgVGV4dExheWVyLnByb3RvdHlwZS5nZXRGb250U2l6ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBfYSA9IG5vZGUuZXhwb3J0KCkudGV4dCwgeXkgPSBfYS50cmFuc2Zvcm0ueXksIHNpemVzID0gX2EuZm9udC5zaXplcztcbiAgICAgICAgdmFyIHNpemUgPSAxNjtcbiAgICAgICAgaWYgKHNpemVzICYmIHNpemVzWzBdKSB7XG4gICAgICAgICAgICBpZiAoeXkgIT09IDEpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5yb3VuZCgoc2l6ZXNbMF0gKiB5eSkgKiAxMDApICogMC4wMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpemUgPSBzaXplc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIFRleHRMYXllci5wcm90b3R5cGUuZ2V0VGV4dEFsaWduID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGFsaWdubWVudCA9IG5vZGUuZXhwb3J0KCkudGV4dC5mb250LmFsaWdubWVudDtcbiAgICAgICAgaWYgKCFhbGlnbm1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBcImxlZnRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWxpZ25tZW50WzBdO1xuICAgIH07XG4gICAgVGV4dExheWVyLnByb3RvdHlwZS5nZXRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5nZXRGb250U2l6ZShub2RlKTtcbiAgICAgICAgdmFyIGxlYWRpbmcgPSBub2RlLmdldChcInR5cGVUb29sXCIpLnN0eWxlcygpLkxlYWRpbmc7XG4gICAgICAgIGlmICghbGVhZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDEgKyBOdW1iZXIoKGxlYWRpbmdbMF0gLyBmb250U2l6ZSkudG9GaXhlZCgxKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dExheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgVGV4dExheWVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/parser/layers/TextLayer.ts\n");

/***/ }),

/***/ "./src/render/index.ts":
/*!*****************************!*\
  !*** ./src/render/index.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Render = /** @class */ (function () {\n    function Render(template, options) {\n        this.template = template;\n        this.options = options;\n        if (!this.options.savePath) {\n            throw new Error(\"options.savePath must be give\");\n        }\n        if (!this.options.tempPath) {\n            throw new Error(\"options.tempPath must be give\");\n        }\n    }\n    Render.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var PCR, pcr, browser, page, fileString, template, tempPath, tempImagePath, file;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        PCR = __webpack_require__(/*! puppeteer-chromium-resolver */ \"puppeteer-chromium-resolver\");\n                        return [4 /*yield*/, PCR()];\n                    case 1:\n                        pcr = _a.sent();\n                        return [4 /*yield*/, pcr.puppeteer.launch({\n                                headless: true,\n                                args: ['--no-sandbox', '--disable-setuid-sandbox'],\n                                executablePath: pcr.executablePath\n                            }).catch(function (error) {\n                                console.log(error);\n                            })];\n                    case 2:\n                        browser = _a.sent();\n                        return [4 /*yield*/, browser.newPage()];\n                    case 3:\n                        page = _a.sent();\n                        page.setViewport({\n                            width: this.template.width,\n                            height: this.template.height\n                        });\n                        fileString = fs__WEBPACK_IMPORTED_MODULE_0___default.a.readFileSync(this.options.tempPath);\n                        template = lodash__WEBPACK_IMPORTED_MODULE_1___default.a.template(fileString.toString(\"utf8\"));\n                        tempPath = path__WEBPACK_IMPORTED_MODULE_2___default.a.join(this.options.savePath, this.options.saveName + '.html');\n                        tempImagePath = path__WEBPACK_IMPORTED_MODULE_2___default.a.join(this.options.savePath, this.options.saveName + '.png');\n                        file = template(this.template);\n                        fs__WEBPACK_IMPORTED_MODULE_0___default.a.writeFileSync(tempPath, file);\n                        return [4 /*yield*/, page.goto(\"file://\" + tempPath)];\n                    case 4:\n                        _a.sent();\n                        return [4 /*yield*/, page.content()];\n                    case 5:\n                        _a.sent();\n                        return [4 /*yield*/, page.screenshot({ path: tempImagePath })];\n                    case 6:\n                        _a.sent();\n                        if (!this.options.debug) {\n                            fs__WEBPACK_IMPORTED_MODULE_0___default.a.unlinkSync(tempPath);\n                        }\n                        return [4 /*yield*/, page.close()];\n                    case 7:\n                        _a.sent();\n                        return [4 /*yield*/, browser.close()];\n                    case 8:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Render;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Render);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi8uL3NyYy9yZW5kZXIvaW5kZXgudHM/MzA5YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QiwyQkFBMkIsK0RBQStELGdCQUFnQixFQUFFLEVBQUU7QUFDOUc7QUFDQSxtQ0FBbUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNqRyxrQ0FBa0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNwRywrQkFBK0IscUZBQXFGO0FBQ3BIO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ29CO0FBQ0c7QUFDQztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1CQUFPLENBQUMsZ0VBQTZCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUNBQXFDLHlDQUFFO0FBQ3ZDLG1DQUFtQyw2Q0FBQztBQUNwQyxtQ0FBbUMsMkNBQUk7QUFDdkMsd0NBQXdDLDJDQUFJO0FBQzVDO0FBQ0Esd0JBQXdCLHlDQUFFO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxzQkFBc0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlDQUFFO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDYyxxRUFBTSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xudmFyIFJlbmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXIodGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5zYXZlUGF0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5zYXZlUGF0aCBtdXN0IGJlIGdpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudGVtcFBhdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMudGVtcFBhdGggbXVzdCBiZSBnaXZlXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlbmRlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgUENSLCBwY3IsIGJyb3dzZXIsIHBhZ2UsIGZpbGVTdHJpbmcsIHRlbXBsYXRlLCB0ZW1wUGF0aCwgdGVtcEltYWdlUGF0aCwgZmlsZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFBDUiA9IHJlcXVpcmUoXCJwdXBwZXRlZXItY2hyb21pdW0tcmVzb2x2ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQQ1IoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBjciA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBjci5wdXBwZXRlZXIubGF1bmNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGxlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRhYmxlUGF0aDogcGNyLmV4ZWN1dGFibGVQYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBicm93c2VyLm5ld1BhZ2UoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlLnNldFZpZXdwb3J0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy50ZW1wbGF0ZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMudGVtcGxhdGUuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTdHJpbmcgPSBmcy5yZWFkRmlsZVN5bmModGhpcy5vcHRpb25zLnRlbXBQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gXy50ZW1wbGF0ZShmaWxlU3RyaW5nLnRvU3RyaW5nKFwidXRmOFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUGF0aCA9IHBhdGguam9pbih0aGlzLm9wdGlvbnMuc2F2ZVBhdGgsIHRoaXMub3B0aW9ucy5zYXZlTmFtZSArICcuaHRtbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEltYWdlUGF0aCA9IHBhdGguam9pbih0aGlzLm9wdGlvbnMuc2F2ZVBhdGgsIHRoaXMub3B0aW9ucy5zYXZlTmFtZSArICcucG5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gdGVtcGxhdGUodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHRlbXBQYXRoLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBhZ2UuZ290byhcImZpbGU6Ly9cIiArIHRlbXBQYXRoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBhZ2UuY29udGVudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcGFnZS5zY3JlZW5zaG90KHsgcGF0aDogdGVtcEltYWdlUGF0aCB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnMudW5saW5rU3luYyh0ZW1wUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwYWdlLmNsb3NlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBicm93c2VyLmNsb3NlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZW5kZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/index.ts\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi9leHRlcm5hbCBcImZzXCI/YTQwZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJmcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"lodash\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi9leHRlcm5hbCBcImxvZGFzaFwiPzk3ZGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibG9kYXNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///lodash\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi9leHRlcm5hbCBcInBhdGhcIj83NGJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InBhdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "psd":
/*!**********************!*\
  !*** external "psd" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"psd\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi9leHRlcm5hbCBcInBzZFwiPzljMzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicHNkLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHNkXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///psd\n");

/***/ }),

/***/ "puppeteer-chromium-resolver":
/*!**********************************************!*\
  !*** external "puppeteer-chromium-resolver" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"puppeteer-chromium-resolver\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydERlc2dpbi9leHRlcm5hbCBcInB1cHBldGVlci1jaHJvbWl1bS1yZXNvbHZlclwiPzc4MzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicHVwcGV0ZWVyLWNocm9taXVtLXJlc29sdmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHVwcGV0ZWVyLWNocm9taXVtLXJlc29sdmVyXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///puppeteer-chromium-resolver\n");

/***/ })

/******/ })["default"];
});